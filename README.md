# Binfiles

* TOC
{:toc}

## Known binfiles servers

Generic binfiles servers support arbitrary sizes via something like `/1mb` or `/10gb`.

### Europe

Country | Provider | ASN | Protocol | XS | S | M | L | XL | Generic
------- | -------- | --- | -------- | -- | - | - | - | -- | ---
NL      | [BBned](http://www.bbned.nl/speedtest/) | AS15670 | HTTP     |    | [32 MB](http://www.bbned.nl/scripts/speedtest/download/file32mb.bin) | [100 MB](http://www.bbned.nl/scripts/speedtest/download/file100mb.bin) |   | [1000 MB](http://www.bbned.nl/scripts/speedtest/download/file1000mb.bin) |    
NL      | [BIT](http://www.bit.nl/) | AS12859 | FTP      |    | [10 MB](ftp://ftp.bit.nl/pub/speedtest/10mb.bin) | [100 MB](ftp://ftp.bit.nl/pub/speedtest/100mb.bin) | [500 MB](ftp://ftp.bit.nl/pub/speedtest/500mb.bin) |    |    
NL      | [BIT](http://www.bit.nl/) | AS12859 | HTTP     |    | [10 MB](http://ftp.bit.nl/pub/speedtest/10mb.bin) | [100 MB](http://ftp.bit.nl/pub/speedtest/100mb.bin) | [500 MB](http://ftp.bit.nl/pub/speedtest/500mb.bin) |    |    
NL      | [KPN](http://speedtest.kpn.net/) | AS1136 | FTP      | [1 MB](ftp://speedtest.kpn.net/001MB-file.bin) | [8 MB](ftp://speedtest.kpn.net/008MB-file.bin) | [128 MB](ftp://speedtest.kpn.net/128MB-file.bin) | [512 MB](ftp://speedtest.kpn.net/512MB-file.bin) |    |    
NL      | [KPN](http://speedtest.kpn.net/) | AS1136 | HTTP     | [1 MB](http://speedtest.kpn.net/ftp/001MB-file.bin) | [8 MB](http://speedtest.kpn.net/ftp/008MB-file.bin) | [128 MB](http://speedtest.kpn.net/ftp/128MB-file.bin) |   |    |    
NL      | [Luna.nl](http://luna.nl/) | AS12902 | HTTP     | [1 MB](http://speedtest.luna.nl/bin/1mb.bin) | [10 MB](http://speedtest.luna.nl/bin/10mb.bin) | [100 MB](http://speedtest.luna.nl/bin/100mb.bin) |   | [1000 MB](http://speedtest.luna.nl/bin/1000mb.bin) |    
NL      | [NXS](http://www.nxs.nl/) | AS15879 | HTTP     |    |   | [100 MB](http://www.nxs.nl/files/100mb.bin) |   | [1000 MB](http://www.nxs.nl/files/1000mb.bin) |    
NL      | [ProServe](http://www.proserve.nl/) | AS21155 | HTTP     |    | [10 MB](http://www.proserve.nl/10mb.bin) | [100 MB](http://www.proserve.nl/100mb.bin) |   | [1000 MB](http://www.proserve.nl/1000mb.bin) |    
NL      | [Tele2](http://speedtest.tele2.net/) | AS1257 | FTP      | [1 MB](ftp://speedtest.tele2.net/1MB.zip) | [10 MB](ftp://speedtest.tele2.net/10MB.zip) | [100 MB](ftp://speedtest.tele2.net/100MB.zip) |   | [1024 MB](ftp://speedtest.tele2.net/1GB.zip) |    
NL      | [Tele2](http://speedtest.tele2.net/) | AS1257 | HTTP     | [1 MB](http://speedtest.tele2.net/1MB.zip) | [10 MB](http://speedtest.tele2.net/10MB.zip) | [100 MB](http://speedtest.tele2.net/100MB.zip) |   | [1024 MB](http://speedtest.tele2.net/1GB.zip) |    
NL      | [Tiscali](http://www.tiscali.nl/) | AS5615 | FTP      | [1 MB](ftp://ftp.tiscali.nl/pub/test/1megabyte.bin) | [10 MB](ftp://ftp.tiscali.nl/pub/test/10megabyte.bin) | [100 MB](ftp://ftp.tiscali.nl/pub/test/100megabyte.bin) |   | [1000 MB](ftp://ftp.tiscali.nl/pub/test/1000mb.bin) |    
NL      | [TweakDSL](http://www.tweakdsl.nl/) | AS25596 | FTP      |    | [10 MB](ftp://ftp.tweakdsl.nl/test/10mb.bin) | [100 MB](ftp://ftp.tweakdsl.nl/test/100mb.bin) |   |    |    
NL      | [WideXS](http://www.widexs.nl/) | AS12573 | FTP      | [1 MB](ftp://mirror.widexs.nl/pub/speed/1mb.bin) | [10 MB](ftp://mirror.widexs.nl/pub/speed/10mb.bin) | [100 MB](ftp://mirror.widexs.nl/pub/speed/100mb.bin) |   | [1000 MB](ftp://mirror.widexs.nl/pub/speed/1000mb.bin) |    
NL      | [WideXS](http://www.widexs.nl/) | AS12573 | HTTP     | [1 MB](http://mirror.widexs.nl/ftp/pub/speed/1mb.bin) | [10 MB](http://mirror.widexs.nl/ftp/pub/speed/10mb.bin) | [100 MB](http://mirror.widexs.nl/ftp/pub/speed/100mb.bin) |   | [1000 MB](http://mirror.widexs.nl/ftp/pub/speed/1000mb.bin) |    
NL      | [XS4All](http://www.xs4all.nl/) | AS3265 | FTP      |    | [10 MB](ftp://ftp.xs4all.nl/pub/test/10mb.bin) | [100 MB](ftp://ftp.xs4all.nl/pub/test/100mb.bin) |   |    |    
NL      | [XS4All](http://www.xs4all.nl/) | AS3265 | HTTP     |    | [10 MB](http://download.xs4all.nl/test/10mb.bin) | [100 MB](http://download.xs4all.nl/test/100mb.bin) |   | [2000 MB](http://download.xs4all.nl/test/2gb.bin) |    

### North America

Country | Provider | ASN | Protocol | XS | S | M | L | XL | Generic
------- | -------- | --- | -------- | -- | - | - | - | -- | ---
US      | [mrow.org](https://mrow.org) | AS54858 | HTTP/HTTPS     | [1 MB](http://binfile.mrow.org/1mb) | [32 MB](http://binfile.mrow.org/32mb) | [100 MB](http://binfile.mrow.org/100mb) | [500 MB](http://binfile.mrow.org/500mb) | [1 GB](http://binfile.mrow.org/1gb) | :heavy_check_mark:  

## Sample simple server instead of using actual files

This simple server will return a "file" based on the size requested:

* `/#size#` will return file of that size e.g. `/100mb` made up entirely of 0xAA
* `/rand/#size#` will return a pseudo random file (a repeated 9000 byte random chunk) of that size e.g. `/rand/100mb`

### Sample run of the simple server

Run the server like so (with go installed):

```zsh
go get github.com/n6udp/binfile
go run github.com/n6udp/binfile
```

A simple `binfile -h` will give you help but the most common argument to change is the default http bind of via `binfile -httpbindaddr "0.0.0.0:80"` or similar.

You can then use curl to ask for "files" of arbitrary size:

```zsh
lburton@newquark ~ % curl -s localhost:8080/rand/100b | wc -c
100
lburton@newquark ~ % curl -s localhost:8080/rand/1gb | wc -c
1073741824
lburton@newquark ~ % time curl -s localhost:8080/rand/1gb | wc -c
1073741824
curl -s localhost:8080/rand/1gb  0.16s user 0.69s system 85% cpu 1.003 total
wc -c  0.10s user 0.64s system 73% cpu 1.002 total
lburton@newquark ~ % time curl -s localhost:8080/1gb | wc -c
1073741824
curl -s localhost:8080/1gb  0.14s user 0.73s system 83% cpu 1.045 total
wc -c  0.05s user 0.73s system 74% cpu 1.045 total
```

### TLS support

We strongly recommend also offering http for the purposes of lower overhead but the sample server does support tls.

You can supply a hostname and set of bind addresses to have the server attempt to get a tls cert from letsencrypt like so:

```zsh
binfile -httpbindaddr "0.0.0.0:80" -httpsbindaddr "0.0.0.0:443" -httpshostname "my.example.com"
```

### Docker

There is a *very* simple Dockerfile that just exposes the http port (it assumes you will provide https on your own if you desire it)

```zsh
docker run binfiles/binfile
```

### Sample SystemD unit file

Place `binfile` itself at `/usr/local/bin/binfile`

Place `binfile.service` at `/etc/systemd/system/binfile.service` and then run:

```zsh
systemctl enable binfile
systemctl start binfile
```
